---
import { Icon } from '../../user'
import { THEME_OPTIONS, FONT_SIZE_OPTIONS, FONT_FAMILY_OPTIONS } from './utils'
---

<div
  id='settingsPanel'
  class='invisible absolute right-0 top-full z-40 mt-2 rounded-lg border border-neutral-200 bg-white p-4 opacity-0 shadow-xl transition-all duration-300 group-[.settings-panel-expanded]:visible group-[.settings-panel-expanded]:opacity-100 dark:border-neutral-700 dark:bg-neutral-800'
  role='region'
  aria-labelledby='settingsPanelTitle'
>
  <p
    id='settingsPanelTitle'
    class='mb-3 text-lg font-semibold text-neutral-800 dark:text-neutral-100'
    aria-label='Panel de configuración'
  >
    Configuración
  </p>

  <!-- Theme Section -->
  <div class='mb-4'>
    <p class='mb-2 text-sm font-medium text-neutral-700 dark:text-neutral-300'>Tema</p>
    <div class='flex gap-2'>
      {THEME_OPTIONS.map((theme) => (
        <button
          data-set-theme={theme.value}
          class='theme-btn flex flex-1 items-center justify-center gap-1 rounded-md border p-2 text-sm hover:bg-neutral-100 dark:border-neutral-600 dark:hover:bg-neutral-700'
        >
          <Icon name={theme.icon} class='size-4' /> {theme.label}
        </button>
      ))}
    </div>
  </div>

  <!-- Font Size Section -->
  <div class='mb-4'>
    <p class='mb-2 text-sm font-medium text-neutral-700 dark:text-neutral-300'>
      Tamaño de Fuente
    </p>
    <div class='flex gap-2'>
      {FONT_SIZE_OPTIONS.map((size) => (
        <button
          data-set-fontsize={size.value}
          class='fontsize-btn flex-1 rounded-md border p-2 text-sm hover:bg-neutral-100 dark:border-neutral-600 dark:hover:bg-neutral-700'
        >
          {size.label}
        </button>
      ))}
    </div>
  </div>

  <!-- Font Family Section -->
  <div>
    <label
      for='fontFamilySelector'
      class='mb-4 text-sm font-medium text-neutral-700 dark:text-neutral-300'
    >
      Tipo de fuente
    </label>
    <select
      id='fontFamilySelector'
      class='focus:ring-primary w-full rounded-md border border-neutral-300 bg-white p-2 text-neutral-900 focus:ring-2 dark:border-neutral-600 dark:bg-neutral-700 dark:text-neutral-100'
      aria-label='Menú de selección de fuente principal'
    >
      {FONT_FAMILY_OPTIONS.map((font) => (
        <option value={font.value}>{font.label}</option>
      ))}
    </select>
    <span id='fontHint' class='sr-only'>
      Selecciona el estilo de letra preferido para la visualización.
    </span>
  </div>
</div>